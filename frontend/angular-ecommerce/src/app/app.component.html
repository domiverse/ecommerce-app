<div class="page-wrapper" [class.sidebar-collapsed]="isSidebarCollapsed">

    <!-- 
    Sidebar Menu Component
    GHI CHÚ: Logo đã được di chuyển ra khỏi đây.
  -->
    <aside class="menu-sidebar d-none d-lg-block">
        <app-product-category-menu></app-product-category-menu>
    </aside>

    <!-- Container chính chứa header và nội dung -->
    <div class="page-container">

        <!-- Header Desktop -->
        <header class="header-desktop">
            <div class="section-content">
                <div class="header-wrap">

                    <div class="header-left-section">
                        <button class="hamburger-btn" (click)="toggleSidebar()">
                            <i class="fas fa-bars"></i>
                        </button>
                        <a routerLink="/products" class="logo">
                            <img src="/assets/images/domiverse-textlog.png" alt="domiverse">
                        </a>
                    </div>

                    <div class="header-right-section">
                        <app-search></app-search>
                        <app-cart-status></app-cart-status>

                        <div class="login-status-area">

                            <ng-container *ngIf="(authService.currentUser | async) === null">   
                                <a routerLink="/login" class="login-button">
                                    <i class="fas fa-sign-in-alt me-2"></i>
                                    <span>Đăng nhập</span>
                                </a>
                            </ng-container>

                            <ng-container *ngIf="authService.currentUser | async as user">
                                <div class="user-info">
                                    <i class="fas fa-user-circle me-2"></i>
                                    <span class="welcome-msg">Chào, {{ user.firstName }}</span>
                                </div>
                                <button (click)="logout()" class="logout-button">
                                    <i class="fas fa-sign-out-alt"></i>
                                </button>
                            </ng-container>

                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Router Outlet để hiển thị nội dung trang -->
        <router-outlet></router-outlet>

    </div>
</div>